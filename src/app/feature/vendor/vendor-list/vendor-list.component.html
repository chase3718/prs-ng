<app-menu></app-menu>
<div class="component-content">
  <div class="lefthalf">
    <span class="component-title">{{title}}&nbsp;</span>
    <span class="create-new">
      <a *ngIf="authenticatedUser.admin" routerLink="/vendor/create"><img id='createnew' width='20' height='20' src='../../../../assets/add-icon.png'
          title='Add New'></a>
    </span>
  </div>
</div>
<p *ngIf="!vendors">Loading ...</p>
<div class="table" *ngIf="vendors">
  <div class="tbl-header" style="overflow: auto">
    <table class="table-dark" cellpadding="0" cellspacing="0" border="0">
      <thead>
        <th><a class="btn font-weight-bold" (click)="sortBy('code')">CODE</a></th>
        <th><a class="btn font-weight-bold" (click)="sortBy('name')">NAME</a></th>
        <th><a class="btn font-weight-bold disabled" disabled>ADDRESS</a></th>
        <th><a class="btn font-weight-bold" (click)="sortBy('phoneNumber')">PHONE</a></th>
        <th><a class="btn font-weight-bold" (click)="sortBy('email')">EMAIL</a></th>
        <th><a class="btn font-weight-bold" (click)="sortBy('preApproved')">PREAPPROVED</a></th>
        <th><a class="btn font-weight-bold disabled" disabled>ACTION</a></th>
      </thead>
    </table>
  </div>
  <div class="tbl-content">
    <table class="table-active table-bordered" cellpadding="0" cellspacing="0" border="0">
      <tbody>
        <tr *ngFor="let vendor of vendors | sort:sortColumn:sortOrder">
          <td>{{vendor.code}}</td>
          <td>{{vendor.name}}</td>
          <td>{{vendor.address}}, {{vendor.city}} {{vendor.state}}, {{vendor.zip}}</td>
          <td>{{vendor.phoneNumber}}</td>
          <td>{{vendor.email}}</td>
          <td>{{vendor.preApproved?"Yes":"No"}}</td>
          <td class="actions">
            <a routerLink='/vendor/detail/{{vendor.id}}'><img width=20 height=20
                src="../../../../assets/details.png"></a>&nbsp;
            <a *ngIf="authenticatedUser.admin" routerLink='/vendor/edit/{{vendor.id}}'><img width=20 height=20
                src="../../../../assets/pencil-icon.png"></a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>
</div>